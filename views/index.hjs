<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <meta charset="UTF-8">
  </head>
  <body>
    <input type="text" placeholder="请输入您想查询的召唤师昵称" style="width: 200px;" class="input">
    <button onclick="searchName()">搜索</button>
    <div class="demo" style="font-size: 30px;">英雄联盟美服召唤师查询系统</div>
    <img src="" id="weatherIconData" height="100" width="100">
  </body>
  <script>
    function searchName(){
    var sn = $('.input').val();
    $.ajax({
      url: `/api?username=${sn}`,
      method: 'POST',
      success: function(data) {
        $('.demo').empty()
        $("#weatherIconData").attr('src', "http://ddragon.leagueoflegends.com/cdn/7.17.1/img/profileicon/"+data.profileIconId+".png")
        $( ".demo" ).append(`
        <p class="demo" style="font-size: 30px;">英雄联盟美服召唤师查询系统</p>
        <p>昵称： ${data.name}</p>
        <p>玩家等级： ${data.summonerLevel}</p>
        <p>用户ID： ${data.id}</p>
         `);
    },error: function(){
      alert("此用户不存在")
    }
});
 }
  </script>
</html>
